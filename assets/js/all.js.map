{"version":3,"sources":["all.js"],"names":["$","document","ready","scrollTop","center","numberOfListItem","length","currentItem","isMoving","window","mousewheel","debounce","e","scrollToCurrentItem","deltaY","stop","animate","offset","top","resize","pos","height","css","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout"],"mappings":";;AAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;AAC5B;AACAF,EAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBG,SAAhB,CAA0B,CAA1B;AACAC,EAAAA,MAAM;AAEN,MAAIC,gBAAgB,GAAGL,CAAC,CAAC,SAAD,CAAD,CAAaM,MAApC;AACA,MAAIC,WAAW,GAAG,CAAlB;AACA,MAAIC,QAAQ,GAAG,CAAf,CAP4B,CAS5B;;AACAR,EAAAA,CAAC,CAACS,MAAD,CAAD,CAAUC,UAAV,CAAqBC,QAAQ,CAAC,UAACC,CAAD;AAAA,WAAOC,mBAAmB,CAACD,CAAD,CAA1B;AAAA,GAAD,EAAgC,GAAhC,EAAqC,IAArC,CAA7B;;AACA,WAASC,mBAAT,CAA6BD,CAA7B,EAAgC;AAC9B,QAAIJ,QAAQ,KAAK,CAAjB,EAAoB;AAClBA,MAAAA,QAAQ,GAAG,CAAX;;AACA,UAAII,CAAC,CAACE,MAAF,GAAW,CAAf,EAAkB;AAChB,YAAIP,WAAW,GAAGF,gBAAlB,EAAoC;AAClCE,UAAAA,WAAW;AACZ;AACF,OAJD,MAIO;AACL,YAAIA,WAAW,GAAG,CAAlB,EAAqB;AACnBA,UAAAA,WAAW;AACZ;AACF;AACF;;AAEDP,IAAAA,CAAC,CAAC,YAAD,CAAD,CACGe,IADH,GAEGC,OAFH,CAGI;AACEb,MAAAA,SAAS,EAAEH,CAAC,CAAC,QAAQO,WAAT,CAAD,CAAuBU,MAAvB,GAAgCC;AAD7C,KAHJ,EAMI,YAAY;AACVV,MAAAA,QAAQ,GAAG,CAAX;AACD,KARL;AAUD,GAnC2B,CAqC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACAR,EAAAA,CAAC,CAACS,MAAD,CAAD,CAAUU,MAAV,CAAiB,YAAY;AAC3Bf,IAAAA,MAAM;AACP,GAFD,EAnD4B,CAuD5B;;AACA,WAASA,MAAT,GAAkB;AAChB,QAAIgB,GAAG,GAAGpB,CAAC,CAACS,MAAD,CAAD,CAAUY,MAAV,KAAqB,CAArB,GAAyBrB,CAAC,CAAC,MAAD,CAAD,CAAUqB,MAAV,KAAqB,CAAxD;AACArB,IAAAA,CAAC,CAAC,MAAD,CAAD,CAAUsB,GAAV,CAAc,KAAd,EAAqBF,GAArB;AACD,GA3D2B,CA6D5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACD,CA9FD;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAST,QAAT,CAAkBY,IAAlB,EAAwBC,IAAxB,EAA8BC,SAA9B,EAAyC;AACvC,MAAIC,OAAJ;AACA,SAAO,YAAY;AACjB,QAAIC,OAAO,GAAG,IAAd;AAAA,QACEC,IAAI,GAAGC,SADT;;AAEA,QAAIC,KAAK,GAAG,SAARA,KAAQ,GAAY;AACtBJ,MAAAA,OAAO,GAAG,IAAV;AACA,UAAI,CAACD,SAAL,EAAgBF,IAAI,CAACQ,KAAL,CAAWJ,OAAX,EAAoBC,IAApB;AACjB,KAHD;;AAIA,QAAII,OAAO,GAAGP,SAAS,IAAI,CAACC,OAA5B;AACAO,IAAAA,YAAY,CAACP,OAAD,CAAZ;AACAA,IAAAA,OAAO,GAAGQ,UAAU,CAACJ,KAAD,EAAQN,IAAR,CAApB;AACA,QAAIQ,OAAJ,EAAaT,IAAI,CAACQ,KAAL,CAAWJ,OAAX,EAAoBC,IAApB;AACd,GAXD;AAYD","file":"all.js","sourcesContent":["$(document).ready(function () {\n  // 重新載入此頁面時，回到第一張圖，並將右方導覽列置中\n  $(\"body, html\").scrollTop(0);\n  center();\n\n  let numberOfListItem = $(\".nav li\").length;\n  let currentItem = 1;\n  let isMoving = 0;\n\n  // 滑鼠滾輪捲動時，移動圖片\n  $(window).mousewheel(debounce((e) => scrollToCurrentItem(e), 100, true));\n  function scrollToCurrentItem(e) {\n    if (isMoving === 0) {\n      isMoving = 1;\n      if (e.deltaY < 0) {\n        if (currentItem < numberOfListItem) {\n          currentItem++;\n        }\n      } else {\n        if (currentItem > 1) {\n          currentItem--;\n        }\n      }\n    }\n\n    $(\"html, body\")\n      .stop()\n      .animate(\n        {\n          scrollTop: $(\".p0\" + currentItem).offset().top\n        },\n        function () {\n          isMoving = 0;\n        }\n      );\n  }\n\n  //  點選右方導覽列時會到指定圖片\n  // for (var i = 0; i <= numberOfListItem; i++) {\n  //   $(\".nav li:eq(\" + i + \")\").click({ id: i }, function (e) {\n  //     $(\".nav li\").removeClass(\"active\");\n  //     var page = e.data.id + 1;\n  //     $(\"html,body\").animate({\n  //       scrollTop: $(\".p0\" + page).offset().top\n  //     });\n  //     $(this).addClass(\"active\");\n  //     currentItem = e.data.id + 1;\n  //   });\n  // }\n\n  //  縮放網頁時，重新將導覽列置中\n  $(window).resize(function () {\n    center();\n  });\n\n  //  計算導覽列垂直置中的高度\n  function center() {\n    var pos = $(window).height() / 2 - $(\".nav\").height() / 2;\n    $(\".nav\").css(\"top\", pos);\n  }\n\n  // 監控 window scroll 事件，用來改變右方導覽列 active 的項目\n  // $(window).scroll(function () {\n  //   console.log(\"scroll\", $(window).scrollTop());\n  //   if (\n  //     $(window).scrollTop() >= $(\".p01\").offset().top &&\n  //     $(window).scrollTop() < $(\".p02\").offset().top\n  //   ) {\n  //     // 除了被點擊到的游標，其他都恢復成原來的顏色\n  //     $(\".nav li\").removeClass(\"active\");\n  //     $(\".nav li:eq(0)\").addClass(\"active\");\n  //   } else if (\n  //     $(window).scrollTop() >= $(\".p02\").offset().top &&\n  //     $(window).scrollTop() < $(\".p03\").offset().top\n  //   ) {\n  //     $(\".nav li\").removeClass(\"active\");\n  //     $(\".nav li:eq(1)\").addClass(\"active\");\n  //   } else if (\n  //     $(window).scrollTop() >= $(\".p03\").offset().top &&\n  //     $(window).scrollTop() < $(\".p04\").offset().top\n  //   ) {\n  //     $(\".nav li\").removeClass(\"active\");\n  //     $(\".nav li:eq(2)\").addClass(\"active\");\n  //   } else if (\n  //     $(window).scrollTop() >= $(\".p04\").offset().top &&\n  //     $(window).scrollTop() < $(\".p05\").offset().top\n  //   ) {\n  //     $(\".nav li\").removeClass(\"active\");\n  //     $(\".nav li:eq(3)\").addClass(\"active\");\n  //   } else if ($(window).scrollTop() >= $(\".p05\").offset().top) {\n  //     $(\".nav li\").removeClass(\"active\");\n  //     $(\".nav li:eq(4)\").addClass(\"active\");\n  //   }\n  // });\n});\n\n/**\n * 將要 debounce 的函式代入 func 中，不用 invoke\n * wait，設定時間（毫秒）\n * immeditate 如果是 true 則在事件觸發時會立即執行，\n * 但事件結束時不會執行；如果是 false 則事件觸發時不會立即執行，\n * 但事件結束時會執行。\n **/\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n      args = arguments;\n    var later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n"]}